!function(e,t){"use strict";"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.Imgur=t()}(this,function(){"use strict";var e=function(t){if(!(this&&this instanceof e))return new e(t);if(t||(t={}),!t.clientid)throw"Provide a valid Client Id here: https://api.imgur.com/";this.clientid=t.clientid,this.endpoint="https://api.imgur.com/3/image",this.callback=t.callback||void 0,this.dropzone=document.querySelectorAll(".dropzone"),this.info=document.querySelectorAll(".info-upload"),this.run()};return e.prototype={createEls:function(e,t,i){var n,a=document.createElement(e);for(n in t)t.hasOwnProperty(n)&&(a[n]=t[n]);return i&&a.appendChild(document.createTextNode(i)),a},insertAfter:function(e,t){e.parentNode.insertBefore(t,e.nextSibling)},post:function(e,t,i){var n=new XMLHttpRequest;n.open("POST",e,!0),n.setRequestHeader("Authorization","Client-ID "+this.clientid),n.onreadystatechange=function(){if(4===this.readyState){if(!(this.status>=200&&this.status<300))throw new Error(this.status+" - "+this.statusText);var e="";try{e=JSON.parse(this.responseText)}catch(t){e=this.responseText}i.call(window,e)}},n.send(t),this.loading(),n=null},createDragZone:function(){var e,t,i;e=this.createEls("p",{},"Nháº¥n vĂ o Ä‘Ă¢y Ä‘á»ƒ táº£i áº£nh lĂªn"),t=this.createEls("p",{},"hoáº·c kĂ©o tháº£ file áº£nh vĂ o Ä‘Ă¢y."),i=this.createEls("input",{type:"file",className:"input",accept:"image/*"}),Array.prototype.forEach.call(this.info,function(i){i.appendChild(e),i.appendChild(t)}.bind(this)),Array.prototype.forEach.call(this.dropzone,function(e){e.appendChild(i),this.status(e),this.upload(e)}.bind(this))},loading:function(){document.getElementById("preloader-active").style.display=null},status:function(e){var t=this.createEls("div",{className:"status"});this.insertAfter(e,t)},matchFiles:function(e,t){var i=t.nextSibling;if(e.type.match(/image/)&&"image/svg+xml"!==e.type){document.body.classList.add("loading"),i.classList.remove("bg-success","bg-danger"),i.innerHTML="";var n=new FormData;n.append("image",e),this.post(this.endpoint,n,function(e){document.body.classList.remove("loading"),"function"==typeof this.callback&&this.callback.call(this,e)}.bind(this))}else i.classList.remove("bg-success"),i.classList.add("bg-danger"),i.innerHTML="Invalid archive"},upload:function(e){var t,i,n,a;e.addEventListener("change",function(s){if(s.target&&"INPUT"===s.target.nodeName&&"file"===s.target.type)for(i=s.target.files,n=0,a=i.length;n<a;n+=1)t=i[n],this.matchFiles(t,e)}.bind(this),!1),["dragenter","dragleave","dragover","drop"].map(function(t){e.addEventListener(t,function(e){e.target&&"INPUT"===e.target.nodeName&&"file"===e.target.type&&("dragleave"===t||"drop"===t?e.target.parentNode.classList.remove("dropzone-dragging"):e.target.parentNode.classList.add("dropzone-dragging"))},!1)})},run:function(){document.querySelector("#preloader-active")&&this.loading(),this.createDragZone()}},e});var uploadedCallBack=function(e){if(!0===e.success){var t=e.data.link.replace(/^http:\/\//i,"https://");document.querySelector(".contact-img").innerHTML='<img class="img" alt="Imgur-Upload" src="'+t+'"/>',document.querySelector("#link").value=t,document.getElementById("preloader-active").style.display="none"}};new Imgur({clientid:"4020deeb960898b",callback:uploadedCallBack});